install.sh - запускается на полностью новой ubuntu 24.04 на vps сервере.
команда которой идет запуск:
bash -c 'command -v fzf >/dev/null 2>&1 || { sudo apt-get update && sudo apt-get install -y fzf; }; BRANCH=$(git ls-remote --heads https://github.com/Paladin1310/mvpn.git | sed "s?.*refs/heads/??" | fzf --prompt="Выберите ветку> "); cd /opt && for f in wg_service.py install.sh; do curl -L https://raw.githubusercontent.com/Paladin1310/mvpn/$BRANCH/$f -o $f; done && chmod +x install.sh && ./install.sh'

### установить, удалить или обновить

bash -c 'command -v fzf >/dev/null 2>&1 || { sudo apt-get update && sudo apt-get install -y fzf; }; command -v curl >/dev/null 2>&1 || { sudo apt-get update && sudo apt-get install -y curl; }; ACTION=$(printf "install\nuninstall\nupdate" | fzf --prompt="Выберите действие> "); [[ -z "$ACTION" ]] && { echo "Отменено"; exit 1; }; if [[ "$ACTION" = "install" ]]; then BRANCH_INSTALL=$(git ls-remote --heads https://github.com/Paladin1310/mvpn.git | sed "s?.*refs/heads/??" | fzf --prompt="Ветка для установки> "); [[ -z "$BRANCH_INSTALL" ]] && { echo "Отменено"; exit 1; }; cd /opt && for f in wg_service.py install.sh; do curl -L https://raw.githubusercontent.com/Paladin1310/mvpn/$BRANCH_INSTALL/$f -o $f; done && chmod +x install.sh && ./install.sh; elif [[ "$ACTION" = "uninstall" ]]; then BRANCH_UNINSTALL=$(git ls-remote --heads https://github.com/Paladin1310/mvpn.git | sed "s?.*refs/heads/??" | fzf --prompt="Ветка для удаления> "); [[ -z "$BRANCH_UNINSTALL" ]] && { echo "Отменено"; exit 1; }; cd /opt && curl -L https://raw.githubusercontent.com/Paladin1310/mvpn/$BRANCH_UNINSTALL/uninstall.sh -o uninstall.sh && chmod +x uninstall.sh && ./uninstall.sh; else BRANCH_UNINSTALL=$(git ls-remote --heads https://github.com/Paladin1310/mvpn.git | sed "s?.*refs/heads/??" | fzf --prompt="Ветка для удаления (uninstall)> "); [[ -з "$BRANCH_UNINSTALL" ]] && { echo "Отменено"; exit 1; }; cd /opt && curl -L https://raw.githubusercontent.com/Paladin1310/mvpn/$BRANCH_UNINSTALL/uninstall.sh -o uninstall.sh && chmod +x uninstall.sh && ./uninstall.sh; BRANCH_INSTALL=$(git ls-remote --heads https://github.com/Paladin1310/mvpn.git | sed "s?.*refs/heads/??" | fzf --prompt="Ветка для установки (install)> "); [[ -з "$BRANCH_INSTALL" ]] && { echo "Отменено"; exit 1; }; for f in wg_service.py install.sh; do curl -L https://raw.githubusercontent.com/Paladin1310/mvpn/$BRANCH_INSTALL/$f -o $f; done && chmod +x install.sh && ./install.sh; fi'
